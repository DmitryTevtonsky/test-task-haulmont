(this["webpackJsonptest-task-haulmont"]=this["webpackJsonptest-task-haulmont"]||[]).push([[0],{1:function(e,t,a){e.exports={list:"list_list__g4iNX",item:"list_item__3GstH",itemImage:"list_itemImage__3qOsL",itemInfo:"list_itemInfo__11sCD",itemHeader:"list_itemHeader__3cHOm",itemTitle:"list_itemTitle__1AMoG",itemExtra:"list_itemExtra__3fMhe",itemDescription:"list_itemDescription__3Ulku"}},12:function(e,t,a){e.exports=a(18)},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),i=a.n(c),l=a(4),o=a(7),s=a.n(o),u=a(8),m=a(11),_="Error occured while fetching data!",d=function(){var e=Object(m.a)(s.a.mark((function e(){var t,a,n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.spacexdata.com/v3/launches");case 3:if(!(t=e.sent).ok){e.next=12;break}return e.next=7,t.json();case 7:return a=e.sent,n=a.map((function(e){var t=e.links,a=e.mission_name,n=e.launch_date_local,r=e.details,c=e.upcoming,i=e.launch_site,l=e.rocket;return{flight_number:e.flight_number,mission_patch_small:t.mission_patch_small,mission_name:a,launch_date_local:n,details:r,upcoming:c,launch_site:{site_id:i.site_id,site_name:i.site_name,site_name_long:i.site_name_long},rocket:{rocket_id:l.rocket_id,rocket_name:l.rocket_name}}})),r=Object(u.a)(new Set(n.map((function(e){return e.rocket.rocket_name})))),c=Object(u.a)(new Set(n.map((function(e){return e.launch_site.site_name_long})))),e.abrupt("return",{launches:n,rockets:r,launchSites:c});case 12:return e.abrupt("return",{launches:[],rockets:[],launchSites:[],error:_});case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",{launches:[],rockets:[],launchSites:[],error:_});case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),f=a(6),h=a.n(f),p=Object(n.memo)((function(e){var t=e.title,a=e.options,c=e.filterCallback,i=Object(n.useRef)(null);return r.a.createElement("div",{className:h.a.drowdown},r.a.createElement("h3",{className:h.a.drowdownTitle},t),r.a.createElement("select",{ref:i,className:h.a.drowdownSelect,onChange:function(){if(null===i||void 0===i?void 0:i.current){var e=i.current.options[i.current.selectedIndex].value;c(e)}}},r.a.createElement("option",{key:"all",value:"reset"},"All"),a.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))))})),v=a(1),k=a.n(v),b=Object(n.memo)((function(e){var t=e.data;return r.a.createElement("ul",{className:k.a.list},null===t||void 0===t?void 0:t.map((function(e){var t=e.flight_number,a=e.mission_patch_small,n=e.mission_name,c=e.launch_date_local,i=e.details,l=e.upcoming;return r.a.createElement("li",{key:"".concat(t,"-").concat(c),className:k.a.item},r.a.createElement("img",{alt:'Mission patch "'.concat(n,'"'),className:k.a.itemImage,src:a}),r.a.createElement("div",{className:k.a.itemInfo},r.a.createElement("div",{className:k.a.itemHeader},r.a.createElement("h3",{className:k.a.itemTitle},n),r.a.createElement("h3",{className:k.a.itemExtra},new Date(c).toLocaleDateString())),r.a.createElement("div",{className:k.a.itemDescription},l?"Upcoming":i)))})))})),w=a(2),E=a.n(w),g=Object(n.memo)((function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(),o=Object(l.a)(i,2),s=o[0],u=o[1],m=Object(n.useState)(null),_=Object(l.a)(m,2),f=_[0],h=_[1],v=Object(n.useState)(null),k=Object(l.a)(v,2),w=k[0],g=k[1];Object(n.useEffect)((function(){d().then((function(e){return c(e)}))}),[]),Object(n.useEffect)((function(){(null===a||void 0===a?void 0:a.launches)&&u(function(e){var t=e.launches,a=e.rocketFilter,n=e.launchSiteFilter;return a&&!n?t.filter((function(e){return e.rocket.rocket_name===a})):!a&&n?t.filter((function(e){return e.launch_site.site_name_long===n})):a&&n?t.filter((function(e){var t=e.launch_site,r=e.rocket;return t.site_name_long===n&&r.rocket_name===a})):t}({launches:a.launches,rocketFilter:f,launchSiteFilter:w}))}),[a,f,w]);var j=Object(n.useCallback)((function(e){return g("reset"===e?null:e)}),[]),O=Object(n.useCallback)((function(e){return h("reset"===e?null:e)}),[]);return r.a.createElement("section",{className:E.a.section},r.a.createElement("header",{className:E.a.header},r.a.createElement("h1",{className:E.a.title},"Launches"),r.a.createElement("div",{className:E.a.filters},r.a.createElement(p,{filterCallback:j,options:(null===a||void 0===a?void 0:a.launchSites)||[],title:"Launch Site"}),r.a.createElement(p,{filterCallback:O,options:(null===a||void 0===a?void 0:a.rockets)||[],title:"Rocket"}))),r.a.createElement("main",{className:E.a.main},(null===a||void 0===a?void 0:a.error)?null===a||void 0===a?void 0:a.error:r.a.createElement(b,{data:s||(null===a||void 0===a?void 0:a.launches)||[]})))}));i.a.render(r.a.createElement(g,null),document.getElementById("root"))},2:function(e,t,a){e.exports={section:"page_section__3mnnr",header:"page_header__2YIHk",title:"page_title__3bjWq",filters:"page_filters__18WrK",main:"page_main__1mfyu"}},6:function(e,t,a){e.exports={drowdown:"dropdown_drowdown__jDYrs",drowdownTitle:"dropdown_drowdownTitle__14lAm",drowdownSelect:"dropdown_drowdownSelect__1uNF8"}}},[[12,1,2]]]);
//# sourceMappingURL=main.e06e20f1.chunk.js.map